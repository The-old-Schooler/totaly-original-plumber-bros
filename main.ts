enum ActionKind {
    Walking,
    Idle,
    Jumping
}
namespace SpriteKind {
    export const coin = SpriteKind.create()
    export const player_1 = SpriteKind.create()
}
function start_level () {
    if (level == 0) {
        scene.setBackgroundColor(15)
        game.splash("plumber bros", "save the spaghetti")
        scene.setBackgroundColor(9)
        mark = sprites.create(img`
            . . . . . . 2 2 2 2 d d . . . . 
            . . . . . 2 2 2 2 2 d d . . . . 
            . . . . . 2 2 2 2 2 2 2 2 2 . . 
            . . . . . e e d d 6 d d . . . . 
            . . . . . e e d d 6 d d . . . . 
            . . . . . e d d d d f d d d . . 
            . . . . . . d d d f f f f . . . 
            . . . . 2 2 8 2 d d d 2 2 . . . 
            . . . 2 2 2 8 2 2 2 8 2 2 2 . . 
            . . . 2 2 2 5 8 8 8 5 2 2 2 . . 
            . . . 1 1 8 8 8 8 8 8 8 1 1 . . 
            . . . . . 8 8 8 8 8 8 8 . . . . 
            . . . . . 8 8 8 . 8 8 8 . . . . 
            . . . . e e e . . . e e e . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.player_1)
        controller.moveSprite(mark, 100, 0)
        scene.cameraFollowSprite(mark)
        tiles.setTilemap(tiles.createTilemap(hex`64000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000406060606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000004060606060606060606060606060606060606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000001010101000a000000000000000000000406060606060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000001010101000a000000000000000000040406060606040404040404040404040404040000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000101010101000a0000000000000000000406090704040404040404040404040404040000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000001010000000001010101010100000000000000000000000408040404040404040404040404040404000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010101010101010000000000000000000004040404040404040404040404040504040000000000000000000000000000010101010100000000000000000100000000000100000000000000000000000000000000000000000000000000000000000001010101010101010101000000000a0000000404040404040404040404040404040304040000000000000000000000000000000000000000000000000000010100000000000101000000000000000000000000000000000000000000000000000000000000000101010101010101010101010101010101060606060606060606060606060606060600000000000000000a000000000a00000000000000000000000101010000000000010101000000000000000000000000000000000000000000000000000000000000010101010101010101010101010101010606060606060606060606060606060606060101010101010101010101010101010101010101010101010101010100000000000101010101010101010101000000000000000001010101010101010101010101010101010101010101010101010101010101060606060606060606060606060606060601010101010101010101010101010101010101010101010101010101020202020201010101010101010101010202020202020202010101010101010101010101010101010101010101010101010101010101010101010606060606060606060606060606`, img`
            ............................................................2.....................22222............2
            ............................................................2.....................22222............2
            ............................................................2....2222.............222222222222222222
            ............................................................2.....2.22.............2222.............
            ............................................................2.....2..22............222..............
            ............................................................22....2...22............2...............
            ..................................................................2....22...........................
            ..............22222........2.....2..............................222....222..........................
            ..........................22.....22...............................2......222222222222222222222222222
            .........................222.....222..............................2.................................
            22222222222222222222222222.2.....22222222222........222222222222222222222222........................
            2..................22222...2.....2..2...2222........2...............................................
            `, [myTiles.transparency16,myTiles.tile1,myTiles.tile5,myTiles.tile6,myTiles.tile7,myTiles.tile9,sprites.dungeon.floorDark0,sprites.dungeon.floorDark3,sprites.dungeon.floorDark1,sprites.dungeon.floorDark4,myTiles.tile14], TileScale.Sixteen))
        mark.ay = 200
        for (let value of tiles.getTilesByType(myTiles.tile14)) {
            Coin = sprites.create(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . 5 5 5 5 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `, SpriteKind.coin)
            animation.runImageAnimation(
            Coin,
            [img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 1 . . . . . . 
                . . . . . . 5 5 1 1 1 . . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . 1 . . . . . . 
                . . . . . . . 5 5 1 . . . . . . 
                . . . . . . 5 1 1 1 1 1 . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . 1 . . . . . . 
                . . . . . . . . . 1 . . . . . . 
                . . . . . . . . . 1 . . . . . . 
                . . . . . . . 5 5 1 . . . . . . 
                . . . . . . 1 1 1 1 1 1 1 1 . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . 1 . . . . . . 
                . . . . . . . 5 5 1 . . . . . . 
                . . . . . . 5 1 1 1 1 1 . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 1 . . . . . . 
                . . . . . . 5 5 1 1 1 . . . . . 
                . . . . . 5 5 5 e 1 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 5 e 5 5 . . . . . 
                . . . . . 5 5 e e 5 5 . . . . . 
                . . . . . . 5 5 5 5 . . . . . . 
                . . . . . . . 5 5 . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                `],
            100,
            true
            )
            tiles.placeOnTile(Coin, value)
            tiles.setTileAt(value, myTiles.transparency16)
        }
        for (let value of tiles.getTilesByType(myTiles.tile15)) {
            goopaa = sprites.create(img`
                . . . . . . . . . . . . . . . . 
                . . . . . . . . . . . . . . . . 
                . . . e e e e e e e e e e e . . 
                f f f e e e e e e f f f f e e . 
                f f f f f e e e f f f f f e e e 
                e e c 1 f e e e f c 1 e e e e e 
                e e 1 1 e e e e e 1 1 e e e e e 
                e e e e e f f f e e e e e e e e 
                e e e e f e e e f e e e e e e e 
                e e e e f e e e f e e e e e e e 
                e e e e f e e e f e e e e e e e 
                . e e e e e e e e e e e e e . . 
                . . . d d d d d d d d d d . . . 
                . . . d d d d d d d d d d . . . 
                e e e d d d d d d d d d d e e e 
                e e e e . . . . . . . e e e e e 
                `, SpriteKind.Enemy)
            animation.runImageAnimation(
            goopaa,
            [img`
                . . . . . . . . . . . . . . . . 
                f f . . e e e e e e e e f f . . 
                f f f e e e e e e e e f f f e . 
                . f f f e e e e e e f f f f e . 
                . . f f f e e e f f f f e e e e 
                . e e c d e e e c d e e e e e e 
                . e e d d e e e d d e e e e e e 
                . e e e e e e e e e e e e e e e 
                . e e e e 1 1 1 e e e e e e e e 
                . e e e 1 1 1 1 1 e e e e e e e 
                . . e e e e e e e e e e e e e . 
                . . . . . d d d d d d d . . . . 
                . . . . . d d d d d d d . . . . 
                . . . . . d d d d d d . . . . . 
                . . f f f f d d d d f f f f f . 
                . . f f f f . . . . f f f f f . 
                `,img`
                . . . . . . . . . . . . . . . . 
                f f . . e e e e e e e e f f . . 
                f f f e e e e e e e e f f f e . 
                . f f f e e e e e e f f f f e . 
                . . f f f e e e f f f f e e e e 
                . e e c d e e e c d e e e e e e 
                . e e d d e e e d d e e e e e e 
                . e e e e e e e e e e e e e e e 
                . e e e e 1 1 1 e e e e e e e e 
                . e e e 1 1 1 1 1 e e e e e e e 
                . . e e e e e e e e e e e e e . 
                . . . . . d d d d d d d . . . . 
                . . . . . d d d d d d f f f . . 
                . . . . . d d d d d d f f f . . 
                . . . . . f f f d d f f f f . . 
                . . . . f f f f . . . . . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                f f . . e e e e e e e e f f . . 
                f f f e e e e e e e e f f f e . 
                . f f f e e e e e e f f f f e . 
                . . f f f e e e f f f f e e e e 
                . e e c d e e e c d e e e e e e 
                . e e d d e e e d d e e e e e e 
                . e e e e e e e e e e e e e e e 
                . e e e e 1 1 1 e e e e e e e e 
                . e e e 1 1 1 1 1 e e e e e e e 
                . . e e e e e e e e f f e e e . 
                . . . . . d d d d f f f . . . . 
                . . . . . d d d d f f f . . . . 
                . . . . . d d d d f f f . . . . 
                . . . . . . d d f f f . . . . . 
                . . . . . . . f f f f f . . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                f f . . e e e e e e e e f f . . 
                f f f e e e e e e e e f f f e . 
                . f f f e e e e e e f f f f e . 
                . . f f f e e e f f f f e e e e 
                . e e c d e e e c d e e e e e e 
                . e e d d e e e d d e e e e e e 
                . e e e e e e e e e e e e e e e 
                . e e e e 1 1 1 e e e e e e e e 
                . e e e 1 1 1 1 1 e e e e e e e 
                . . e e f f f e e e e e e e e . 
                . . . . f f f d d d d d . . . . 
                . . . . f f f f f d d d . . . . 
                . . . . . f f f d d d f f . . . 
                . . . . . . . d d f f f f . . . 
                . . . . . . . . . f f f f . . . 
                `,img`
                . . . . . . . . . . . . . . . . 
                f f . . e e e e e e e e f f . . 
                f f f e e e e e e e e f f f e . 
                . f f f e e e e e e f f f f e . 
                . . f f f e e e f f f f e e e e 
                . e e c d e e e c d e e e e e e 
                . e e d d e e e d d e e e e e e 
                . e e e e e e e e e e e e e e e 
                . e e e e 1 1 1 e e e e e e e e 
                . e e e 1 1 1 1 1 e e e e e e e 
                . . e e e e e e e e e e e e e . 
                . . . . . d d d d d d d . . . . 
                . . f f . d d d d d d d . . . . 
                . . f f f f d d d d d f f f . . 
                . . . f f f f d d d . . f f . . 
                . . . . . . . . . . . . f f . . 
                `],
            100,
            true
            )
            tiles.placeOnTile(goopaa, value)
            tiles.setTileAt(value, myTiles.transparency16)
        }
        sonik = sprites.create(img`
            8 8 8 8 8 8 8 8 8 8 . . . . . . 
            8 8 8 8 8 8 8 8 8 8 8 . . . . . 
            8 8 8 8 8 8 8 8 8 8 8 8 . . . . 
            8 8 8 8 8 8 8 8 8 8 8 8 8 . . . 
            8 8 8 8 8 1 1 1 1 1 8 8 8 . . . 
            8 8 8 8 1 1 1 1 1 1 1 8 8 . . . 
            8 8 8 8 1 1 1 1 1 7 7 1 8 . . . 
            8 8 8 8 8 1 1 1 1 f f 1 1 . . . 
            8 8 8 8 8 1 1 1 1 f f 1 1 . . . 
            8 8 8 8 8 1 1 1 1 7 7 1 1 . . f 
            8 8 8 d d d d d d d d d d d f f 
            8 8 8 d d d d d d d d d d d f . 
            8 8 d d d f d d d d d d d d . . 
            8 8 8 d d d f f d d d d d d . . 
            8 8 8 d d d d d d d d d d d . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Player)
        controller.player2.moveSprite(sonik, 100, 0)
        sonik.ay = 200
    }
    if (level == 1) {
        scene.setBackgroundColor(15)
        tiles.setTilemap(tiles.createTilemap(hex`73000a0005050505050505050505050505050505050505050505050505050505050505050505050505050505050505050505050505050505050505050505050101010101010101010505050505050505050505010505050505050505050505050505050505050505050101010105050505000505000505050505050505050505050505050505050505050505050505050505050505050505050507050505070707070707070505050505050505050505050505010101010101010105050505050505050505050105050505050505050505050505050505050505050505010105050505050500000005050505050505050505050505050505050505050505050505050505050505050505050507070707070707070707050705050505050505050505050505050501010101020101050505050505050105050501050505050505050505050505050505050505050505050101050505050505050000000505050505050505050505050505050505050505050505050505050505050505050505070507070707050707070505050505050505050505050505050505050101020101010505050105050501050505010505050505050505050505050505050505050505050501050505050505050500000005050505050505050505050505050505050505050505050505050505050505050505050707050505050505050505050505050505050105050505050505050505010101010105050505050505010505050105050505050505050505050505050505050505050505050505050505050505000505050505050505050505050404050505010505050105050101050505050505050505050505050505050505050505050505050501050505050505050505050505050505050005050505050505010105050501050505050505050505050505050505050505050505050505050505050505050505050505050505050505050404040505050505050505050501010105050505050505050505050505050505050505050505050505050505050505010505050505050505050505050505050505050501050505010505050505050505010505010505010505010101010105050505050505050505050505050505050505050404040405050505050505050505010101010505050505050505050505050505050501010105050501050505050505050505050505050505010101010101010101010101010505050505050505010105050505050505050505050101010101010101010505050505050506050404040404040404040404050505050505050505050101010101050505050505050505010101010101010101050505050505050505050505050505050505010101010101010101010101010105050505050505010202050505050505050505050501010101010101010101010101010101010104040404040404040404040000000000000000000001010101010101010101010101010101010101010101010000000000000000000000000001010101010101010101010101010101010101010101010101010102030000000000000000000000010101010101010101010101010101010101`, img`
            ...........................................................222222222...........2.....................2222..........
            ............................................................22222222...........2......................22...........
            .............................................................2222222.......2...2......................22...........
            ..............................................................222222...2...2...2......................2............
            ....................................................2..........22222.......2...2...................................
            .........22...2...2..22..........................2........................22...2...................................
            ........2.2..........222...............................2...................2...2........2..2..2..22222.............
            .......2..2..........2222................222...2...............2222222222222........22...........2..222222.........
            2222222...2..........22.22.........222222222..................22...........2.......222...........2...22222222222222
            ..........2..........22..22222222222.......2.............222222............22222222222...........2....2............
            `, [myTiles.transparency16,sprites.dungeon.floorDark0,sprites.dungeon.floorDark1,sprites.dungeon.floorDark4,myTiles.tile28,myTiles.tile32,myTiles.tile20,myTiles.tile15], TileScale.Sixteen))
    }
    if (level == 2) {
        tiles.setTilemap(tiles.createTilemap(hex`46000a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006060006060006060006060006060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000606060606060606060606060606000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000006060606060606060606060606060000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060606060606060606060606060600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000606060606070606060606060606000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000006060606060506060606060606060000000000000008000000000606060606060606060404040404040404040000000000000400000000000400000000040404040404040404040404040404040404040404040404040404040404040404040402030202020202020204040404040404040400000000000000000000000000000000000404040404040404040404040404040404040404040404040404040404040404040404`, img`
            ......................................................................
            ......................................................................
            ......................................................................
            ......................................................................
            ......................................................................
            ......................................................................
            ......................................................................
            ......................................................................
            222222222222222222......2.....2....22222222222222222222222222222222222
            .........222222222.................22222222222222222222222222222222222
            `, [myTiles.transparency16,myTiles.tile29,myTiles.tile31,myTiles.tile34,myTiles.tile1,myTiles.tile6,myTiles.tile7,myTiles.tile9,myTiles.tile39], TileScale.Sixteen))
        scene.setBackgroundColor(9)
        mark.setPosition(17, 0)
        sonik.setPosition(11, 0)
    }
}
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    projectile = sprites.createProjectileFromSide(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, 50, 50)
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (mark.vy == 0) {
        music.playTone(262, music.beat(BeatFraction.Half))
        mark.vy = -150
    }
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.hazardLava0, function (sprite, location) {
    sonik.setPosition(80, 42)
    music.jumpDown.play()
})
controller.player2.onButtonEvent(ControllerButton.A, ControllerButtonEvent.Pressed, function () {
    if (sonik.vy == 0) {
        music.playTone(262, music.beat(BeatFraction.Half))
        sonik.vy = -155
    }
})
scene.onOverlapTile(SpriteKind.player_1, myTiles.tile6, function (sprite, location) {
    level += 1
    start_level()
    music.powerUp.play()
    mark.setPosition(7, 0)
    sonik.setPosition(6, 0)
})
scene.onOverlapTile(SpriteKind.player_1, sprites.dungeon.hazardLava0, function (sprite, location) {
    info.changeLifeBy(-1)
    mark.setPosition(80, 42)
    music.jumpDown.play()
})
scene.onOverlapTile(SpriteKind.player_1, sprites.dungeon.hazardLava1, function (sprite, location) {
    info.changeLifeBy(-1)
    mark.setPosition(80, 42)
    music.jumpDown.play()
})
scene.onOverlapTile(SpriteKind.player_1, myTiles.tile5, function (sprite, location) {
    mark.setPosition(80, 42)
    info.changeLifeBy(-1)
    music.jumpDown.play()
})
sprites.onOverlap(SpriteKind.player_1, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
    music.baDing.play()
})
scene.onOverlapTile(SpriteKind.player_1, myTiles.tile9, function (sprite, location) {
    level += 1
    start_level()
    music.powerUp.play()
    mark.setPosition(7, 0)
    sonik.setPosition(6, 0)
})
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.hazardLava1, function (sprite, location) {
    sonik.setPosition(80, 42)
    music.jumpDown.play()
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.coin, function (sprite, otherSprite) {
    info.changeScoreBy(1)
    otherSprite.destroy()
    music.baDing.play()
})
scene.onOverlapTile(SpriteKind.player_1, myTiles.tile35, function (sprite, location) {
    level += 1
    music.playMelody("D D C D D - C C ", 700)
    start_level()
})
scene.onOverlapTile(SpriteKind.Player, myTiles.tile5, function (sprite, location) {
    sonik.setPosition(80, 42)
    music.jumpDown.play()
})
scene.onOverlapTile(SpriteKind.player_1, myTiles.tile20, function (sprite, location) {
    game.over(true, effects.hearts)
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Enemy, function (sprite, otherSprite) {
    if (mark.y < otherSprite.y) {
        info.changeScoreBy(1)
        otherSprite.destroy()
        music.powerUp.play()
    } else {
        info.changeLifeBy(-1)
        music.jumpDown.play()
        otherSprite.destroy()
        mark.setPosition(80, 42)
    }
})
let projectile: Sprite = null
let sonik: Sprite = null
let goopaa: Sprite = null
let Coin: Sprite = null
let mark: Sprite = null
let level = 0
info.setLife(5)
start_level()
level = 0
game.onUpdate(function () {
	
})
forever(function () {
    music.setVolume(47)
    music.playMelody("G B A G C5 B A B ", 120)
    music.playMelody("A F E F D G E F ", 120)
})
forever(function () {
    if (mark.vy < 0) {
        animation.stopAnimation(animation.AnimationTypes.All, mark)
        mark.setImage(img`
            . . . . . . 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 2 2 . . 
            . . . . . 4 4 4 d d f d f . . . 
            . . . . . 4 4 d d d f d f . . . 
            . . . . . d d d d d d d d d . . 
            . . . 1 1 1 1 1 d d d d d . . . 
            . . f f 1 1 1 1 1 d d d 1 1 . . 
            . d d d f 1 1 1 1 1 1 1 1 . . . 
            . d d d . 1 1 1 1 1 1 1 . e e . 
            . . . . . 2 2 2 2 2 2 2 f e e . 
            . . . e f 1 1 1 1 1 1 1 f e e . 
            . . . e e f 1 1 1 1 1 1 1 f e . 
            . . . e e f 1 1 . . . . . . . . 
            . . . e e . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else if (mark.vy > 0) {
        animation.stopAnimation(animation.AnimationTypes.All, mark)
        mark.setImage(img`
            . . . . . . 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 2 2 . . 
            . . . . . 4 4 4 d d f d f . . . 
            . . . . . 4 4 d d d f d f . . . 
            . . . . . d d d d d d d d d . . 
            . . . 1 1 1 1 1 d d d d d . . . 
            . . f f 1 1 1 1 1 d d d 1 1 . . 
            . d d d f 1 1 1 1 1 1 1 1 . . . 
            . d d d . 1 1 1 1 1 1 1 . e e . 
            . . . . . 2 2 2 2 2 2 2 f e e . 
            . . . e f 1 1 1 1 1 1 1 f e e . 
            . . . e e f 1 1 1 1 1 1 1 f e . 
            . . . e e f 1 1 . . . . . . . . 
            . . . e e . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else if (controller.player1.isPressed(ControllerButton.Right)) {
        animation.runImageAnimation(
        mark,
        [img`
            . . . . . . 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 2 2 . . 
            . . . . . 4 4 4 d d f d . . . . 
            . . . . . 4 4 d d d f d . . . . 
            . . . . . d d d d d d d d . . . 
            . . . 1 1 1 1 1 d d d d . . d d 
            . . f f 1 1 1 1 1 1 1 1 1 f d d 
            . d d d f 1 1 1 1 1 1 1 1 e e . 
            . d d d . 1 1 1 1 1 1 1 . e e . 
            . . . . . 2 2 2 2 2 2 2 f e e . 
            . . . . . 1 1 1 1 1 1 1 f e e . 
            . . . e e f 1 1 1 1 1 1 1 f e . 
            . . . e e f 1 1 . . . . . . . . 
            . . . e e f 1 . . . . . . . . . 
            . . . e e . . . . . . . . . . . 
            `,img`
            . . . . . . 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 2 2 . . 
            . . . . . 4 4 4 d d f d . . . . 
            . . . . . 4 4 d d d f d . . . . 
            . . . . . d d d d d d d d . . . 
            . . . . 1 1 1 1 d d d d . . . . 
            . . . . 1 1 1 1 1 1 1 1 . . . . 
            . . . . 1 1 1 f f 1 1 1 . . . . 
            . . . . . 1 f d d d 1 1 . . . . 
            . . . . . 2 f d d d 2 2 . . . . 
            . . . . . 1 1 d d 1 1 1 . . . . 
            . . . . . 1 1 1 1 1 1 1 . . . . 
            . . . . . 1 1 1 1 f f f . . . . 
            . . . . . 1 f f f e e e . . . . 
            . . . . . . e e e e e e . . . . 
            `],
        100,
        true
        )
        pause(200)
    } else if (controller.player1.isPressed(ControllerButton.Left)) {
        animation.runImageAnimation(
        mark,
        [img`
            . . . . 2 2 2 2 2 2 . . . . . . 
            . . . . 2 2 2 2 2 2 2 . . . . . 
            . . 2 2 2 2 2 2 2 2 2 . . . . . 
            . . . . d f d 4 4 4 4 . . . . . 
            . . . . d f d d 4 4 4 . . . . . 
            . . . d d d d d d d d . . . . . 
            . . . . d d d d 1 1 1 1 f d d . 
            . . . . 1 1 1 1 1 1 1 1 f d d . 
            . . . . 1 1 1 1 1 1 1 1 f d d . 
            . . . . 1 1 1 1 2 2 2 . . . . . 
            . . . . 2 2 2 2 1 1 1 1 . . . . 
            . . . . 1 1 1 1 1 1 1 1 f e . . 
            . . . . 1 1 1 1 1 1 1 1 f e . . 
            . . . . 1 1 1 1 . . . . e e . . 
            . . e e f f f . . . . . e e . . 
            . . e e e e e . . . . . . . . . 
            `,img`
            . . . . 2 2 2 2 2 2 . . . . . . 
            . . . . 2 2 2 2 2 2 2 . . . . . 
            . . 2 2 2 2 2 2 2 2 2 . . . . . 
            . . . . d f d 4 4 4 4 . . . . . 
            . . . . d f d d 4 4 4 . . . . . 
            . . . d d d d d d d d . . . . . 
            . . . . d d d d 1 1 1 . . . . . 
            . . . . 1 1 1 1 1 1 1 1 . . . . 
            . . . . 1 1 1 1 1 1 1 1 . . . . 
            . . . . 1 1 1 1 d f 1 1 . . . . 
            . . . d 2 2 2 d d f 1 1 . . . . 
            . . . d 1 1 1 d d f 1 1 . . . . 
            . . . . 1 1 1 1 1 1 1 . . . . . 
            . . . . f f f f 1 1 . . . . . . 
            . . . . e e e f f f . . . . . . 
            . . . . e e e e e e e . . . . . 
            `],
        100,
        true
        )
        pause(200)
    } else {
        effects.clearParticles(mark)
        animation.stopAnimation(animation.AnimationTypes.All, mark)
        mark.setImage(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 . . . . 
            . . . . . 2 2 2 2 2 2 2 2 2 . . 
            . . . . . 4 4 d d f d f . . . . 
            . . . . . 4 4 d d f d f . . . . 
            . . . . . 4 d d d d d d d . . . 
            . . . . . . d d d d d d . . . . 
            . . . . 1 1 1 1 1 1 1 1 1 . . . 
            . . . 1 1 1 1 1 1 1 1 1 1 1 . . 
            . . . f f 1 1 1 1 1 1 1 f f . . 
            . . . d d 2 2 2 2 2 2 2 d d . . 
            . . . d d 1 1 1 1 1 1 1 d d . . 
            . . . . . 1 1 1 . 1 1 1 . . . . 
            . . . . e f f . . . f f e . . . 
            . . . . e e e . . . e e e . . . 
            `)
    }
    if (mark.vx < 0) {
        mark.image.flipX()
    }
})
forever(function () {
    if (sonik.vy < 0) {
        animation.stopAnimation(animation.AnimationTypes.All, mark)
        sonik.setImage(img`
            . . . . . . 7 7 7 7 1 1 . . . . 
            . . . . . 7 7 7 7 7 1 1 1 1 . . 
            . . . . . 7 7 7 7 7 7 7 7 7 . . 
            . . . . . e e e d d 6 d 7 1 . . 
            . . . . . e e d d d 6 d d 7 . . 
            . . . . . d d d d d d f d d . . 
            . . . 7 7 7 7 8 d d f f f f . . 
            . . 7 7 7 7 7 8 7 d d d 7 7 . . 
            . 1 1 1 7 7 7 8 7 7 7 8 7 . . . 
            . 1 1 1 . 7 7 5 8 8 8 5 . e e . 
            . . . . . 8 8 8 8 8 8 8 8 e e . 
            . . . e 8 8 8 8 8 8 8 8 8 e e . 
            . . . e e 8 8 8 8 8 8 8 8 8 e . 
            . . . e e 8 8 8 . . . . . . . . 
            . . . e e . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else if (sonik.vy > 0) {
        animation.stopAnimation(animation.AnimationTypes.All, sonik)
        sonik.setImage(img`
            . . . . . . 7 7 7 7 1 1 . . . . 
            . . . . . 7 7 7 7 7 1 1 1 1 . . 
            . . . . 1 1 7 7 7 7 7 7 7 7 1 . 
            . . . 1 1 1 e e d d 6 d 1 1 1 . 
            . . . 1 1 1 e d d d 6 d d 1 . . 
            . . . 1 1 7 7 d d d d f d d . . 
            . . . . 7 7 7 8 d d f f f f . . 
            . . . . 7 7 7 8 7 d d d 7 7 . . 
            . . . . . 7 7 8 7 7 7 8 7 . . . 
            . . . . . 7 7 5 8 8 8 5 . e e . 
            . . . . . 8 8 8 8 8 8 8 8 e e . 
            . . . e 8 8 8 8 8 8 8 8 8 e e . 
            . . . e e 8 8 8 8 8 8 8 8 8 e . 
            . . . e e 8 8 8 . . . . . . . . 
            . . . e e . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `)
    } else if (controller.player2.isPressed(ControllerButton.Right)) {
        animation.runImageAnimation(
        sonik,
        [img`
            . . . . . . 7 7 7 7 1 1 . . . . 
            . . . . . 7 7 7 7 7 1 1 . . . . 
            . . . . . 7 7 7 7 7 7 7 7 7 . . 
            . . . . . e e e d d 6 d . . . . 
            . . . . . e e d d d 6 d d . . . 
            . . . . . d d d d d d f d d . . 
            . . . 7 7 7 7 8 d d f f f f 1 1 
            . 1 1 1 7 7 7 8 7 d d d 7 7 1 1 
            . 1 1 1 7 7 7 8 7 7 7 8 7 e e . 
            . 1 1 1 . 7 7 5 8 8 8 5 . e e . 
            . . . . . 8 8 8 8 8 8 8 8 e e . 
            . . . . . 8 8 8 8 8 8 8 8 e e . 
            . . . e e 8 8 8 8 8 8 8 8 8 e . 
            . . . e e 8 8 8 . . . . . . . . 
            . . . e e 8 8 . . . . . . . . . 
            . . . e e . . . . . . . . . . . 
            `,img`
            . . . . . . 7 7 7 7 1 1 . . . . 
            . . . . . 7 7 7 7 7 1 1 . . . . 
            . . . . . 7 7 7 7 7 7 7 7 7 . . 
            . . . . . e e e d d 6 d . . . . 
            . . . . . e e d d d 6 d d . . . 
            . . . . . d d d d d d f d d . . 
            . . . . 7 7 7 8 d d f f f f . . 
            . . . 7 7 7 7 8 7 d d d . . . . 
            . . . 7 7 1 1 1 7 7 7 8 1 . . . 
            . . . 7 7 1 1 1 8 8 8 5 1 . . . 
            . . . . 7 1 1 1 8 8 8 8 1 . . . 
            . . . . . 8 8 8 8 8 8 8 . . . . 
            . . . . . 8 8 8 8 8 8 8 . . . . 
            . . . . . . 8 8 8 8 8 8 . . . . 
            . . . . . . . 8 8 e e e . . . . 
            . . . . . . e e e e e e . . . . 
            `],
        100,
        true
        )
        pause(200)
    } else if (controller.player2.isPressed(ControllerButton.Left)) {
        animation.runImageAnimation(
        sonik,
        [img`
            . . . . 1 1 7 7 7 7 . . . . . . 
            . . . . 1 1 7 7 7 7 7 . . . . . 
            . . 7 7 7 7 7 7 7 7 7 . . . . . 
            . . . . d 6 d e e e e . . . . . 
            . . . d d 6 d d e e e . . . . . 
            . . d d f d d d d d d . . . . . 
            . 1 f f f f d d 8 7 7 7 7 1 1 . 
            1 1 7 7 d d d d 8 7 7 7 7 1 1 . 
            1 1 7 7 8 7 7 7 8 7 7 7 7 1 1 . 
            . . . . 5 7 7 7 5 8 8 . . . . . 
            . . . . 8 8 8 8 8 8 8 8 . . . . 
            . . . . 8 8 8 8 8 8 8 8 8 e . . 
            . . . . 8 8 8 8 8 8 8 8 8 e . . 
            . . . . 8 8 8 8 . . . . e e . . 
            . . e e 8 8 8 . . . . . e e . . 
            . . e e e e e . . . . . . . . . 
            `,img`
            . . . . 1 1 7 7 7 7 . . . . . . 
            . . . . 1 1 7 7 7 7 7 . . . . . 
            . . 7 7 7 7 7 7 7 7 7 . . . . . 
            . . . . d 6 d e e e e . . . . . 
            . . . d d 6 d d e e e . . . . . 
            . . d d f d d d d d d . . . . . 
            . . f f f f d d 8 7 7 . . . . . 
            . . . . d d d d 8 7 7 7 . . . . 
            . . . . 8 7 7 7 8 7 7 7 . . . . 
            . . . . 5 7 7 7 1 1 7 7 . . . . 
            . . . 1 8 8 8 1 1 1 7 7 . . . . 
            . . . 1 8 8 8 1 1 1 7 7 . . . . 
            . . . . 8 8 8 8 8 8 8 . . . . . 
            . . . . 8 8 8 8 8 8 . . . . . . 
            . . . . e e e 8 8 8 . . . . . . 
            . . . . e e e e e e e . . . . . 
            `],
        100,
        true
        )
        pause(200)
    } else {
        effects.clearParticles(sonik)
        animation.stopAnimation(animation.AnimationTypes.All, sonik)
        sonik.setImage(img`
            . . . . . . 7 7 7 7 1 1 . . . . 
            . . . . . 7 7 7 7 7 1 1 . . . . 
            . . . . . 7 7 7 7 7 7 7 7 7 . . 
            . . . . . e e d d 6 d d . . . . 
            . . . . . e e d d 6 d d d . . . 
            . . . . . e d d d d f d d d . . 
            . . . . . . d d d f f f f . . . 
            . . . . 7 7 8 7 d d d 7 7 . . . 
            . . . 7 7 7 8 7 7 7 8 7 7 7 . . 
            . . . 7 7 7 5 8 8 8 5 7 7 7 . . 
            . . . 7 7 8 8 8 8 8 8 8 7 7 . . 
            . . . 1 1 8 8 8 8 8 8 8 1 1 . . 
            . . . 1 1 8 8 8 8 8 8 8 1 1 . . 
            . . . . . 8 8 8 . 8 8 8 . . . . 
            . . . . e e e . . . e e e . . . 
            . . . . e e e . . . e e e . . . 
            `)
    }
    if (sonik.vx < 0) {
        sonik.image.flipX()
    }
})
